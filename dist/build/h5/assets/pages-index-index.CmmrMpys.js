import{c as e,w as a,s,a as t,n as i,i as c,r as l,o as r,b as o,d as n,e as d,f as u,t as m,g,F as f,h as p,j as h,S as b,k as _,l as y}from"./index-Dz1Oxr08.js";import{P as k,S as C}from"./index.BANljgOk.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=w({components:{SearchBar:C,ProductCard:k},data:()=>({bannerList:[{image:"/static/images/banner/banner1.jpg",title:"精选面料",subtitle:"臻选优质面料，专业定制体验"},{image:"/static/images/banner/banner2.jpg",title:"新品上市",subtitle:"2024春季新品系列"},{image:"/static/images/banner/banner3.jpg",title:"会员专享",subtitle:"新人首单立减100元"}],categoryList:[{id:1,name:"西装面料",icon:"/static/images/icons/suit-fabric.png",categoryId:1},{id:2,name:"衬衫面料",icon:"/static/images/icons/shirt-fabric.png",categoryId:3},{id:3,name:"裤装面料",icon:"/static/images/icons/pants-fabric.png",categoryId:1},{id:4,name:"大衣面料",icon:"/static/images/icons/coat-fabric.png",categoryId:5}],allProducts:[{id:1,image:"/static/images/products/italian-wool.jpg",name:"意大利进口羊毛面料 精选VBC面料",memberPrice:100,price:128},{id:2,image:"/static/images/products/harris-tweed.jpg",name:"英国进口哈里斯粗花呢面料",memberPrice:120,price:150},{id:3,image:"/static/images/products/japanese-linen.jpg",name:"日本进口棉麻混纺面料",memberPrice:80,price:98},{id:4,image:"/static/images/products/italian-silk.jpg",name:"意大利进口真丝面料",memberPrice:200,price:258}],productList:[],searchKeyword:"",isTouching:!1}),computed:{filteredProducts(){if(!this.searchKeyword)return[];const e=this.searchKeyword.toLowerCase();return this.productList.filter((a=>a.name.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)))}},created(){this.productList=[...this.allProducts]},methods:{handleSearch(e){this.searchKeyword=e,t({url:`/pages/category/category?search=${encodeURIComponent(e)}`,success:()=>{console.log("Successfully navigated to category page with search tag")},fail:e=>{console.error("Navigation failed:",e)}})},handleCategoryClick(e){console.log("Navigating to category:",e.name,"with ID:",e.categoryId),t({url:`/pages/category/category?id=${e.categoryId}`,success:()=>{console.log("Successfully navigated to category page")},fail:e=>{console.error("Navigation failed:",e)}})},handleProductClick(e){i({url:`/pages/product/detail?id=${e.id}`})},handleViewMore(){t({url:"/pages/category/category"})},handleViewMembership(){t({url:"/pages/membership/membership",success:()=>{console.log("Successfully navigated to membership page")},fail:e=>{console.error("Navigation failed:",e)}})},onPullDownRefresh(){setTimeout((()=>{s()}),1e3)}}},[["render",function(s,t,i,k,C,w){const v=l("search-bar"),P=d,j=c,L=h,S=_,x=b,I=l("product-card");return r(),e(j,{class:"index-page"},{default:a((()=>[o(v,{onSearch:w.handleSearch},null,8,["onSearch"]),C.searchKeyword?(r(),e(j,{key:0,class:"search-results"},{default:a((()=>[o(j,{class:"results-header"},{default:a((()=>[o(P,{class:"results-title"},{default:a((()=>[u("搜索结果")])),_:1}),o(P,{class:"results-count"},{default:a((()=>[u("共"+m(w.filteredProducts.length)+"个商品",1)])),_:1})])),_:1}),o(j,{class:"product-list"},{default:a((()=>[(r(!0),g(f,null,p(w.filteredProducts,((t,i)=>(r(),e(j,{class:"product-item",key:i,onClick:e=>s.goToDetail(t)},{default:a((()=>[o(L,{src:t.image,mode:"aspectFill",class:"product-image"},null,8,["src"]),o(j,{class:"product-info"},{default:a((()=>[o(P,{class:"product-name"},{default:a((()=>[u(m(t.name),1)])),_:2},1024),o(P,{class:"product-price"},{default:a((()=>[u("¥"+m(t.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),0===w.filteredProducts.length?(r(),e(j,{key:0,class:"no-results"},{default:a((()=>[o(P,null,{default:a((()=>[u("没有找到相关商品")])),_:1})])),_:1})):n("",!0)])),_:1})):n("",!0),o(x,{class:"banner-swiper",circular:"",autoplay:"",interval:"3000",duration:"500"},{default:a((()=>[(r(!0),g(f,null,p(C.bannerList,((s,t)=>(r(),e(S,{key:t,class:"banner-item"},{default:a((()=>[o(L,{src:s.image,mode:"aspectFill",class:"banner-image"},null,8,["src"]),s.title?(r(),e(j,{key:0,class:"banner-title"},{default:a((()=>[o(P,null,{default:a((()=>[u(m(s.title),1)])),_:2},1024),o(P,{class:"subtitle"},{default:a((()=>[u(m(s.subtitle),1)])),_:2},1024)])),_:2},1024)):n("",!0)])),_:2},1024)))),128))])),_:1}),o(j,{class:"category-nav"},{default:a((()=>[(r(!0),g(f,null,p(C.categoryList,((s,t)=>(r(),e(j,{class:"nav-item",key:t,onClick:e=>w.handleCategoryClick(s)},{default:a((()=>[o(j,{class:"nav-icon-container"}),o(P,{class:"nav-text"},{default:a((()=>[u(m(s.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),o(j,{class:"product-section"},{default:a((()=>[o(j,{class:"section-header"},{default:a((()=>[o(P,{class:"title"},{default:a((()=>[u("热门面料")])),_:1}),o(P,{class:"more",onClick:w.handleViewMore},{default:a((()=>[u("查看更多")])),_:1},8,["onClick"])])),_:1}),o(j,{class:"product-grid"},{default:a((()=>[(r(!0),g(f,null,p(C.productList,((a,s)=>(r(),e(I,{key:s,product:a,onClick:e=>w.handleProductClick(a)},null,8,["product","onClick"])))),128))])),_:1})])),_:1}),o(j,{class:"membership-section"},{default:a((()=>[o(j,{class:"section-header"},{default:a((()=>[o(P,{class:"title"},{default:a((()=>[u("会员专区")])),_:1}),o(P,{class:"more"},{default:a((()=>[u("查看更多")])),_:1})])),_:1}),o(j,{class:"membership-content",onClick:w.handleViewMembership},{default:a((()=>[o(j,{class:y(["membership-card",{active:C.isTouching}]),onTouchstart:t[0]||(t[0]=e=>C.isTouching=!0),onTouchend:t[1]||(t[1]=e=>C.isTouching=!1)},{default:a((()=>[o(j,{class:"membership-info"},{default:a((()=>[o(P,{class:"membership-title"},{default:a((()=>[u("开通会员")])),_:1}),o(P,{class:"membership-desc"},{default:a((()=>[u("享受全场9折优惠")])),_:1})])),_:1}),o(j,{class:"membership-benefits"},{default:a((()=>[o(j,{class:"benefit-item"},{default:a((()=>[o(P,{class:"benefit-icon"},{default:a((()=>[u("✓")])),_:1}),o(P,{class:"benefit-text"},{default:a((()=>[u("全场商品9折")])),_:1})])),_:1}),o(j,{class:"benefit-item"},{default:a((()=>[o(P,{class:"benefit-icon"},{default:a((()=>[u("✓")])),_:1}),o(P,{class:"benefit-text"},{default:a((()=>[u("专属客服")])),_:1})])),_:1}),o(j,{class:"benefit-item"},{default:a((()=>[o(P,{class:"benefit-icon"},{default:a((()=>[u("✓")])),_:1}),o(P,{class:"benefit-text"},{default:a((()=>[u("优先发货")])),_:1})])),_:1})])),_:1})])),_:1},8,["class"])])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-69f1a3e5"]]);export{v as default};
