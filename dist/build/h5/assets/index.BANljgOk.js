import{u as e,z as s,m as a,c as t,w as r,i as c,o as l,b as i,d as o,e as h,I as d,f as n,g as u,F as p,h as m,t as f,j as y}from"./index-Dz1Oxr08.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const H=_({name:"SearchBar",props:{placeholder:{type:String,default:"搜索商品"},showTags:{type:Boolean,default:!0}},data:()=>({searchText:"",searchHistory:[]}),created(){this.loadSearchHistory()},methods:{handleSearch(){this.searchText.trim()&&(this.addToHistory(this.searchText),this.$emit("search",this.searchText))},selectTag(e){this.searchText=e,this.$emit("search",e)},addToHistory(e){this.searchHistory=this.searchHistory.filter((s=>s!==e)),this.searchHistory.unshift(e),this.searchHistory.length>10&&(this.searchHistory=this.searchHistory.slice(0,10)),a("searchHistory",this.searchHistory)},clearHistory(){this.searchHistory=[],s("searchHistory")},loadSearchHistory(){this.searchHistory=e("searchHistory")||[]}}},[["render",function(e,s,a,y,_,H){const g=h,T=d,x=c;return l(),t(x,{class:"search-bar"},{default:r((()=>[i(x,{class:"search-box"},{default:r((()=>[i(g,{class:"iconfont icon-search"}),i(T,{type:"text",modelValue:_.searchText,"onUpdate:modelValue":s[0]||(s[0]=e=>_.searchText=e),placeholder:a.placeholder,"placeholder-class":"placeholder",onConfirm:H.handleSearch},null,8,["modelValue","placeholder","onConfirm"])])),_:1}),a.showTags&&_.searchHistory.length>0?(l(),t(x,{key:0,class:"search-tags"},{default:r((()=>[i(x,{class:"tags-header"},{default:r((()=>[i(g,{class:"tags-title"},{default:r((()=>[n("搜索历史")])),_:1}),i(g,{class:"clear-history",onClick:H.clearHistory},{default:r((()=>[n("清空")])),_:1},8,["onClick"])])),_:1}),i(x,{class:"tags-container"},{default:r((()=>[(l(!0),u(p,null,m(_.searchHistory,((e,s)=>(l(),t(x,{class:"tag-item",key:s,onClick:s=>H.selectTag(e)},{default:r((()=>[n(f(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):o("",!0)])),_:1})}],["__scopeId","data-v-05cbb254"]]);const g=_({name:"ProductCard",props:{product:{type:Object,required:!0,default:()=>({image:"",name:"",memberPrice:0,price:0})}},methods:{handleClick(){this.$emit("click",this.product)}}},[["render",function(e,s,a,o,d,u){const p=y,m=h,_=c;return l(),t(_,{class:"product-card",onClick:u.handleClick},{default:r((()=>[i(p,{src:a.product.image,mode:"aspectFill",class:"product-image"},null,8,["src"]),i(_,{class:"product-info"},{default:r((()=>[i(m,{class:"product-name"},{default:r((()=>[n(f(a.product.name),1)])),_:1}),i(_,{class:"price-row"},{default:r((()=>[i(_,{class:"member-price"},{default:r((()=>[i(m,{class:"price"},{default:r((()=>[n("¥"+f(a.product.memberPrice),1),i(m,{class:"unit"},{default:r((()=>[n("/m")])),_:1})])),_:1})])),_:1}),i(m,{class:"original-price"},{default:r((()=>[n("¥"+f(a.product.price)+"/m",1)])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])}],["__scopeId","data-v-16ee0720"]]);export{g as P,H as S};
