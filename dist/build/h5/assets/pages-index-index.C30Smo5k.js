import{c as e,w as a,s as t,a as s,n as c,i,r,o as l,b as o,d as n,e as d,f as u,t as g,g as m,F as p,h as f,j as h,S as y,k as _}from"./index-oiMriBxI.js";import{P as b,S as k}from"./index.E0XR1HLE.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";const w=C({components:{SearchBar:k,ProductCard:b},data:()=>({bannerList:[{image:"/static/images/banner/banner1.jpg",title:"精选面料",subtitle:"臻选优质面料，专业定制体验"},{image:"/static/images/banner/banner2.jpg",title:"新品上市",subtitle:"2024春季新品系列"},{image:"/static/images/banner/banner3.jpg",title:"会员专享",subtitle:"新人首单立减100元"}],categoryList:[{id:1,name:"西装面料",icon:"/static/images/icons/suit-fabric.png",categoryId:1},{id:2,name:"衬衫面料",icon:"/static/images/icons/shirt-fabric.png",categoryId:3},{id:3,name:"裤装面料",icon:"/static/images/icons/pants-fabric.png",categoryId:7},{id:4,name:"大衣面料",icon:"/static/images/icons/coat-fabric.png",categoryId:5}],allProducts:[{id:1,image:"/static/images/products/italian-wool.jpg",name:"意大利进口羊毛面料 精选VBC面料",memberPrice:100,price:128},{id:2,image:"/static/images/products/harris-tweed.jpg",name:"英国进口哈里斯粗花呢面料",memberPrice:120,price:150},{id:3,image:"/static/images/products/japanese-linen.jpg",name:"日本进口棉麻混纺面料",memberPrice:80,price:98},{id:4,image:"/static/images/products/italian-silk.jpg",name:"意大利进口真丝面料",memberPrice:200,price:258}],productList:[],searchKeyword:""}),computed:{filteredProducts(){if(!this.searchKeyword)return[];const e=this.searchKeyword.toLowerCase();return this.productList.filter((a=>a.name.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)))}},created(){this.productList=[...this.allProducts]},methods:{handleSearch(e){this.searchKeyword=e},handleCategoryClick(e){console.log("Navigating to category:",e.name,"with ID:",e.categoryId),s({url:`/pages/category/category?id=${e.categoryId}`,success:()=>{console.log("Successfully navigated to category page")},fail:e=>{console.error("Navigation failed:",e)}})},handleProductClick(e){c({url:`/pages/product/detail?id=${e.id}`})},handleViewMore(){s({url:"/pages/category/category"})},onPullDownRefresh(){setTimeout((()=>{t()}),1e3)}}},[["render",function(t,s,c,b,k,C){const w=r("search-bar"),P=d,j=i,L=h,v=_,I=y,S=r("product-card");return l(),e(j,{class:"index-page"},{default:a((()=>[o(w,{onSearch:C.handleSearch},null,8,["onSearch"]),k.searchKeyword?(l(),e(j,{key:0,class:"search-results"},{default:a((()=>[o(j,{class:"results-header"},{default:a((()=>[o(P,{class:"results-title"},{default:a((()=>[u("搜索结果")])),_:1}),o(P,{class:"results-count"},{default:a((()=>[u("共"+g(C.filteredProducts.length)+"个商品",1)])),_:1})])),_:1}),o(j,{class:"product-list"},{default:a((()=>[(l(!0),m(p,null,f(C.filteredProducts,((s,c)=>(l(),e(j,{class:"product-item",key:c,onClick:e=>t.goToDetail(s)},{default:a((()=>[o(L,{src:s.image,mode:"aspectFill",class:"product-image"},null,8,["src"]),o(j,{class:"product-info"},{default:a((()=>[o(P,{class:"product-name"},{default:a((()=>[u(g(s.name),1)])),_:2},1024),o(P,{class:"product-price"},{default:a((()=>[u("¥"+g(s.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),0===C.filteredProducts.length?(l(),e(j,{key:0,class:"no-results"},{default:a((()=>[o(P,null,{default:a((()=>[u("没有找到相关商品")])),_:1})])),_:1})):n("",!0)])),_:1})):n("",!0),o(I,{class:"banner-swiper",circular:"",autoplay:"",interval:"3000",duration:"500"},{default:a((()=>[(l(!0),m(p,null,f(k.bannerList,((t,s)=>(l(),e(v,{key:s,class:"banner-item"},{default:a((()=>[o(L,{src:t.image,mode:"aspectFill",class:"banner-image"},null,8,["src"]),t.title?(l(),e(j,{key:0,class:"banner-title"},{default:a((()=>[o(P,null,{default:a((()=>[u(g(t.title),1)])),_:2},1024),o(P,{class:"subtitle"},{default:a((()=>[u(g(t.subtitle),1)])),_:2},1024)])),_:2},1024)):n("",!0)])),_:2},1024)))),128))])),_:1}),o(j,{class:"category-nav"},{default:a((()=>[(l(!0),m(p,null,f(k.categoryList,((t,s)=>(l(),e(j,{class:"nav-item",key:s,onClick:e=>C.handleCategoryClick(t)},{default:a((()=>[o(j,{class:"nav-icon-container"}),o(P,{class:"nav-text"},{default:a((()=>[u(g(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),o(j,{class:"product-section"},{default:a((()=>[o(j,{class:"section-header"},{default:a((()=>[o(P,{class:"title"},{default:a((()=>[u("热门面料")])),_:1}),o(P,{class:"more",onClick:C.handleViewMore},{default:a((()=>[u("查看更多")])),_:1},8,["onClick"])])),_:1}),o(j,{class:"product-grid"},{default:a((()=>[(l(!0),m(p,null,f(k.productList,((a,t)=>(l(),e(S,{key:t,product:a,onClick:e=>C.handleProductClick(a)},null,8,["product","onClick"])))),128))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-0376945d"]]);export{w as default};
